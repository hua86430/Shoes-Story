{"version":3,"sources":["webpack:///./src/views/Carts.vue","webpack:///./src/components/CartItemCheck.vue","webpack:///./src/components/CartItemCheck.vue?00e7","webpack:///./src/views/Carts.vue?bb48","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","style","type","width","href","colspan","for","id","cols","rows","required","active","isLoading","isEmpty","to","aria-current","deleteAll","carts","item","key","deleteItem","disabled","loadingStatus","loadingItem","product_id","src","product","imageUrl","alt","title","cartCheck","price","toLocaleString","qty","total","ref","onSubmit","errors","name","rules","placeholder","order","user","email","isPhone","tel","address","getCart","tabindex","data-bs-dismiss","aria-label","scope","productObj","size","index","num","min","delSize","instockUpdate","data","modal","qtyTemp","methods","this","splice","forEach","console","log","$http","put","then","res","success","$swal","message","$emit","hide","catch","mounted","$refs","instock","render","components","CartItemCheck","cartTemp","show","url","delete","showConfirmButton","text","icon","setTimeout","window","location","reload","get","length","post","form","resetForm","value","phoneNumber","test","created","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","max","Math","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","O","len","actualStart","argumentsLength","arguments","TypeError","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error"],"mappings":"qJACA,yBAA8B,MAA1B,MAAM,aAAY,OAAG,G,GAAvB,IAAF,EAEOA,MAAM,YAAYC,MAAA,sB,EACrB,yBAAqC,KAAlCD,MAAM,oBAAmB,SAAK,G,EAHrC,6BAGyC,iB,EACzB,yBAAM,mB,EAGhB,yBAAsF,UAA9EE,KAAK,SAASF,MAAM,8CAA6C,QAAI,G,GAPjF,IAAF,EAWOA,MAAM,a,GACJA,MAAM,O,GACJA,MAAM,O,GACJA,MAAM,Y,GAKJA,MAAM,sB,EACX,yBAQQ,cAPN,yBAMK,WALH,yBAAoB,MAAhBG,MAAM,OACV,yBAAuB,MAAnBA,MAAM,OAAM,MAChB,yBAAS,MACT,yBAA4B,MAAxBA,MAAM,OAAM,WAChB,yBAAwB,MAApBA,MAAM,OAAM,W,MAGbH,MAAM,gB,EAUH,yBAAgC,KAA7BA,MAAM,oBAAkB,S,GAKvBI,KAAK,K,GAeTJ,MAAM,iB,EAWZ,yBAA6C,MAAzCK,QAAQ,IAAIL,MAAM,iBAAgB,MAAE,G,GACpCK,QAAQ,IAAIL,MAAM,e,GAKzBA,MAAM,mC,GAEFA,MAAM,Q,EACT,yBAAmD,SAA5CM,IAAI,QAAQN,MAAM,cAAa,SAAK,G,GAaxCA,MAAM,Q,EACT,yBAAkD,SAA3CM,IAAI,OAAON,MAAM,cAAa,SAAK,G,GAavCA,MAAM,Q,EACT,yBAAiD,SAA1CM,IAAI,MAAMN,MAAM,cAAa,SAAK,G,GAatCA,MAAM,Q,EACT,yBAAqD,SAA9CM,IAAI,UAAUN,MAAM,cAAa,SAAK,G,EAa/C,yBAGM,OAHDA,MAAM,QAAM,CACf,yBAAkD,SAA3CM,IAAI,UAAUN,MAAM,cAAa,MACxC,yBAAoF,YAA1EO,GAAG,UAAUP,MAAM,eAAeQ,KAAK,KAAKC,KAAK,KAAKC,SAAA,O,KAElE,yBAEM,OAFDV,MAAM,YAAU,CACnB,yBAA0D,UAAlDE,KAAK,SAASF,MAAM,kBAAiB,U,4UA3IzD,+CACE,yBAAsC,GAArBW,OAAQ,EAAAC,UAD3B,iDAC2B,EAAAA,UAAS,K,mBACmB,EAAAC,S,yBAArD,yBAOM,MAPN,EAOM,CANJ,EAHJ,EAIgB,EAEZ,yBAEc,GAFDC,GAAG,YAAYd,MAAM,WAAWe,eAAa,Q,CAN9D,8BAOM,iBAAsF,CAAtF,MAPN,U,yBAWE,yBAqIM,MArIN,EAqIM,CApIJ,yBAmIM,MAnIN,EAmIM,CAlIJ,yBA8DM,MA9DN,EA8DM,CA7DJ,yBAIM,MAJN,EAIM,CAHJ,yBAES,UAFDf,MAAM,yBAAyBE,KAAK,SAAU,QAAK,8BAAE,EAAAc,WAAA,EAAAA,UAAA,sBAAW,aAI1E,yBAuDQ,QAvDR,EAuDQ,CAtDN,EASA,yBAsCQ,QAtCR,EAsCQ,CArCU,EAAAC,O,2BACd,yBAkCK,eAjEnB,+BA+BiC,EAAAA,MAAMA,OA/BvC,SA+ByBC,G,gCAAX,yBAkCK,MAlC4BC,IAAKD,EAAKX,I,CACzC,yBASK,WARH,yBAOS,UANPL,KAAK,SACLF,MAAM,mCACL,QAAK,mBAAE,EAAAoB,WAAWF,EAAKX,KACvBc,SAAU,EAAAC,cAAcC,cAAgBL,EAAKX,I,CAE9C,G,4BAGJ,yBAOK,WANH,yBAKC,GALaO,GAAE,mBAAcI,EAAKM,a,CA3CrD,8BA4CqB,iBAGA,CAHA,yBAGA,IAHA,EAGA,CAFE,yBAAyD,OAAnDC,IAAKP,EAAKQ,QAAQC,SAAU3B,MAAM,QAAQ4B,IAAI,I,gBA7C3E,6BA6CgF,IAC1D,6BAAGV,EAAKQ,QAAQG,OAAK,SA9C3C,K,eAkDgB,yBAQK,WAPH,yBAMS,UALP3B,KAAK,SACLF,MAAM,8BACL,QAAK,mBAAE,EAAA8B,UAAUZ,KACnB,WAED,iBAEF,yBAEK,KAFL,EAEK,6BADAA,EAAKQ,QAAQK,MAAMC,kBAAmB,MAAG,6BAAGd,EAAKe,KAAG,GAEzD,yBAEK,wCADCf,EAAKQ,QAAQK,MAAQb,EAAKe,KAAKD,kBAAc,Q,MA/DnE,yCAoEU,yBAKQ,cAJN,yBAGK,WAFH,EACA,yBAA+D,KAA/D,EAAoC,QAAK,6BAAG,EAAAf,MAAMiB,OAAK,WAK/D,yBAkEM,MAlEN,EAkEM,CAjEJ,yBAgEO,GAhEDC,IAAI,OAAOnC,MAAM,mBAAwC,SAAQ,EAAAoC,U,CA7E/E,8BA8EU,gBADkDC,EAClD,EADkDA,OAClD,MADwD,CACxD,yBAaM,MAbN,EAaM,CAZJ,EACA,yBASS,GARP9B,GAAG,QACH+B,KAAK,KACLpC,KAAK,QACLqC,MAAM,iBACNvC,MAAK,CAAC,eAAc,cACIqC,EAAO,QAC/BG,YAAY,YAvF1B,WAwFuB,EAAAC,MAAMC,KAAKC,MAxFlC,qDAwFuB,EAAAF,MAAMC,KAAKC,MAAK,K,+BAE3B,yBAAkE,GAAnDL,KAAK,KAAKtC,MAAM,uBAEjC,yBAaM,MAbN,EAaM,CAZJ,EACA,yBASS,GARPO,GAAG,OACH+B,KAAK,KACLpC,KAAK,OACLF,MAAK,CAAC,eAAc,cACIqC,EAAO,QAC/BG,YAAY,QACZD,MAAM,WArGpB,WAsGuB,EAAAE,MAAMC,KAAKJ,KAtGlC,qDAsGuB,EAAAG,MAAMC,KAAKJ,KAAI,K,+BAE1B,yBAAkE,GAAnDA,KAAK,KAAKtC,MAAM,uBAEjC,yBAaM,MAbN,EAaM,CAZJ,EACA,yBASS,GARPO,GAAG,MACH+B,KAAK,KACLpC,KAAK,SACJqC,MAAO,EAAAK,QACR5C,MAAK,CAAC,eAAc,cACIqC,EAAO,QAC/BG,YAAY,QAnH1B,WAoHuB,EAAAC,MAAMC,KAAKG,IApHlC,qDAoHuB,EAAAJ,MAAMC,KAAKG,IAAG,K,uCAEzB,yBAAkE,GAAnDP,KAAK,KAAKtC,MAAM,uBAEjC,yBAaM,MAbN,EAaM,CAZJ,EACA,yBASS,GARPO,GAAG,UACH+B,KAAK,KACLpC,KAAK,OACLF,MAAK,CAAC,eAAc,cACIqC,EAAO,QAC/BG,YAAY,QACZD,MAAM,WAjIpB,WAkIuB,EAAAE,MAAMC,KAAKI,QAlIlC,qDAkIuB,EAAAL,MAAMC,KAAKI,QAAO,K,+BAE7B,yBAAkE,GAAnDR,KAAK,KAAKtC,MAAM,uBAEjC,EAIA,MA1IV,K,uBAkJE,yBAAyE,GAAzD,iBAAgB,EAAA+C,QAASZ,IAAI,a,mDClJxCnC,MAAM,qBAAqBgD,SAAS,KAAKzC,GAAG,gBAAgB4B,IAAI,W,GAG9DnC,MAAM,+C,GACJA,MAAM,iB,GACJA,MAAM,gB,GACLA,MAAM,e,EACV,yBAKU,UAJRE,KAAK,SACLF,MAAM,YACNiD,kBAAgB,QAChBC,aAAW,S,YAGVlD,MAAM,c,GACFA,MAAM,S,EACX,yBAMQ,cALN,yBAIK,MAJDA,MAAM,gBAAc,CACtB,yBAAmC,MAA/BG,MAAM,MAAMgD,MAAM,OAAM,MAC5B,yBAAmC,MAA/BhD,MAAM,MAAMgD,MAAM,OAAM,MAC5B,yBAAiC,MAA7BhD,MAAM,MAAMgD,MAAM,Y,MAMdnD,MAAM,e,EAYV,yBAAgC,KAA7BA,MAAM,oBAAkB,S,GAOlCA,MAAM,yB,EACT,yBAES,UAFDE,KAAK,SAASF,MAAM,yBAAyBiD,kBAAgB,SAAQ,WAE7E,G,uGAhDR,yBAqDM,MArDN,EAqDM,CApDJ,yBAAsC,GAArBtC,OAAQ,EAAAC,U,iDAAA,EAAAA,UAAS,K,mBAElC,yBAiDM,MAjDN,EAiDM,CAhDJ,yBA+CM,MA/CN,EA+CM,CA9CJ,yBAQM,MARN,EAQM,CAPJ,yBAAmE,KAAnE,EAAmE,6BAAxC,EAAAwC,WAAW1B,QAAQG,OAAQ,WAAQ,GAC9D,IAOF,yBA8BM,MA9BN,EA8BM,CA7BJ,yBA4BQ,QA5BR,EA4BQ,CA3BN,EAOA,yBAmBQ,e,2BAlBN,yBAiBK,2CAjBuB,EAAAuB,WAAWC,MAAI,SAA/BnC,EAAMoC,G,gCAAlB,yBAiBK,MAjByCnC,IAAKmC,EAAOtD,MAAM,gB,CAC9D,yBAEK,WADH,yBAAiE,OAAjE,EAAiE,6BAApC,EAAAoD,WAAWC,KAAKC,GAAOC,KAAG,KAEzD,yBAOK,W,4BANH,yBAKE,SAJArD,KAAK,SACLF,MAAM,cACNwD,IAAI,I,yCACY,EAAAJ,WAAWC,KAAKC,GAAOrB,IAAG,I,kDAA1B,EAAAmB,WAAWC,KAAKC,GAAOrB,S,WAAvC,QAGJ,yBAIK,WAHH,yBAES,UAFD/B,KAAK,SAASF,MAAM,MAAO,QAAK,mBAAE,EAAAyD,QAAQH,K,CAChD,G,kCAOZ,yBAKM,MALN,EAKM,CAJJ,EAGA,yBAAoF,UAA3E,QAAK,8BAAE,EAAAI,eAAA,EAAAA,cAAA,qBAAexD,KAAK,SAASF,MAAM,mBAAkB,iB,kDAUhE,GACb2D,KADa,WAEX,MAAO,CACLC,MAAO,GACPR,WAAY,CACV1B,QAAS,GACT2B,KAAM,GACN9C,GAAI,GACJ0B,IAAK,GAEP4B,QAAS,EACTjD,WAAW,IAGfkD,QAAS,CACPL,QADO,SACCH,GACNS,KAAKX,WAAWC,KAAKW,OAAOV,EAAO,IAErCI,cAJO,WAIS,WACdK,KAAKnD,WAAY,EACjBmD,KAAKX,WAAWnB,IAAM,EACtB8B,KAAKX,WAAWC,KAAKY,SAAQ,SAAC/C,GAC5B,EAAKkC,WAAWnB,KAAOf,EAAKe,OAE9BiC,QAAQC,IAAIJ,KAAKX,WAAWnB,KAC5B8B,KAAKK,MACFC,IADH,UAEO,wCAFP,eAEqC,SAFrC,iBAEsEN,KAAKX,WAAW7C,IAClF,CACEoD,KAAMI,KAAKX,aAGdkB,MAAK,SAACC,GACDA,EAAIZ,KAAKa,UACX,EAAK5D,WAAY,EACjB,EAAK6D,MAAL,UAAcF,EAAIZ,KAAKe,UACvB,EAAKC,MAAM,kBACX,EAAKf,MAAMgB,WAGdC,OAAM,SAACN,GACNL,QAAQC,IAAII,EAAIZ,WAIxBmB,QA7Ca,WA8CXf,KAAKH,MAAQ,IAAI,IAAMG,KAAKgB,MAAMC,WCvGtC,EAAOC,OAAS,EAED,QFoJA,GACbC,WAAY,CACVC,iBAEFxB,KAJa,WAKX,MAAO,CACLyB,SAAU,GACVnE,MAAO,GACPK,cAAe,CACbC,YAAa,IAEfkB,MAAO,CACLC,KAAM,CACJJ,KAAM,GACNK,MAAO,GACPE,IAAK,GACLC,QAAS,IAEX4B,QAAS,IAEX9D,WAAW,EACXC,SAAS,IAGbiD,QAAS,CACPhC,UADO,SACGZ,GACR6C,KAAKgB,MAAMjD,UAAU8B,MAAMyB,OAC3BtB,KAAKgB,MAAMjD,UAAUsB,WAAalC,EAClCgD,QAAQC,IAAIJ,KAAKgB,MAAMjD,UAAUsB,aAEnChC,WANO,SAMIb,GAAI,WACbwD,KAAKnD,WAAY,EACjB,IAAM0E,EAAE,UAAO,wCAAP,eAAqC,SAArC,SACRvB,KAAKzC,cAAcC,YAAchB,EACjCwD,KAAKK,MAAMmB,OAAX,UAAqBD,EAArB,YAA4B/E,IAAM+D,MAAK,SAACC,GACtC,EAAKjD,cAAcC,YAAc,GACjC,EAAKwB,UACL,EAAK0B,MAAM,CACTe,mBAAmB,EACnBC,KAAMlB,EAAIZ,KAAKe,QACfgB,KAAM,YAER,EAAK9E,WAAY,EACjB+E,YAAW,WACTC,OAAOC,SAASC,WACf,UAGP9E,UAxBO,WAwBK,WACV+C,KAAKnD,WAAY,EACjB,IAAM0E,EAAE,UAAO,wCAAP,eAAqC,SAArC,UACRvB,KAAKK,MAAMmB,OAAOD,GAAKhB,MAAK,SAACC,GAC3B,EAAKxB,UACL,EAAK0B,MAAM,CACTe,mBAAmB,EACnBC,KAAMlB,EAAIZ,KAAKe,QACfgB,KAAM,YAER,EAAK9E,WAAY,EACjB+E,YAAW,WACTC,OAAOC,SAASC,WACf,UAGP/C,QAxCO,WAwCG,WACRgB,KAAKnD,WAAY,EACjB,IAAM0E,EAAE,UAAO,wCAAP,eAAqC,SAArC,SACRvB,KAAKK,MACF2B,IAAIT,GACJhB,MAAK,SAACC,GACL,EAAKtD,MAAQsD,EAAIZ,KAAKA,KACtB,EAAK1C,MAAMiB,MAAQqC,EAAIZ,KAAKA,KAAKzB,MAAMF,iBACvC,EAAKpB,WAAY,EACb,EAAKK,MAAMA,MAAM+E,QAAU,EAC7B,EAAKnF,SAAU,EAEf,EAAKA,SAAU,EAEjBqD,QAAQC,IAAI,EAAKlD,UAElB4D,OAAM,SAACN,GACNL,QAAQC,IAAII,EAAIZ,UAGtBvB,SA5DO,WA4DI,WACT2B,KAAKK,MACF6B,KADH,UACW,wCADX,eACyC,SADzC,UAC2E,CACvEtC,KAAMI,KAAKtB,QAEZ6B,MAAK,SAACC,GACDA,EAAIZ,KAAKa,SACX,EAAKO,MAAMmB,KAAKC,YAChB,EAAKpD,UACL,EAAK0B,MAAMF,EAAIZ,KAAKe,UAEpB,EAAKD,MAAMF,EAAIZ,KAAKe,aAI5B9B,QA3EO,SA2ECwD,GACN,IAAMC,EAAc,iBACpB,QAAOA,EAAYC,KAAKF,IAAgB,cAG5CG,QAxGa,WAyGXxC,KAAKhB,YG/PT,EAAOkC,OAASA,EAED,gB,kCCJf,IAAIuB,EAAI,EAAQ,QACZC,EAAkB,EAAQ,QAC1BC,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAqB,EAAQ,QAC7BC,EAAiB,EAAQ,QACzBC,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,UAEnDE,EAAMC,KAAKD,IACXzD,EAAM0D,KAAK1D,IACX2D,EAAmB,iBACnBC,EAAkC,kCAKtCZ,EAAE,CAAEa,OAAQ,QAASC,OAAO,EAAMC,QAASP,GAAuB,CAChEhD,OAAQ,SAAgBwD,EAAOC,GAC7B,IAIIC,EAAaC,EAAmBC,EAAGC,EAAGC,EAAMhH,EAJ5CiH,EAAInB,EAAS7C,MACbiE,EAAMrB,EAASoB,EAAE/B,QACjBiC,EAAcxB,EAAgBe,EAAOQ,GACrCE,EAAkBC,UAAUnC,OAWhC,GATwB,IAApBkC,EACFR,EAAcC,EAAoB,EACL,IAApBO,GACTR,EAAc,EACdC,EAAoBK,EAAMC,IAE1BP,EAAcQ,EAAkB,EAChCP,EAAoBnE,EAAIyD,EAAIP,EAAUe,GAAc,GAAIO,EAAMC,IAE5DD,EAAMN,EAAcC,EAAoBR,EAC1C,MAAMiB,UAAUhB,GAGlB,IADAQ,EAAIf,EAAmBkB,EAAGJ,GACrBE,EAAI,EAAGA,EAAIF,EAAmBE,IACjCC,EAAOG,EAAcJ,EACjBC,KAAQC,GAAGjB,EAAec,EAAGC,EAAGE,EAAED,IAGxC,GADAF,EAAE5B,OAAS2B,EACPD,EAAcC,EAAmB,CACnC,IAAKE,EAAII,EAAaJ,EAAIG,EAAML,EAAmBE,IACjDC,EAAOD,EAAIF,EACX7G,EAAK+G,EAAIH,EACLI,KAAQC,EAAGA,EAAEjH,GAAMiH,EAAED,UACbC,EAAEjH,GAEhB,IAAK+G,EAAIG,EAAKH,EAAIG,EAAML,EAAoBD,EAAaG,WAAYE,EAAEF,EAAI,QACtE,GAAIH,EAAcC,EACvB,IAAKE,EAAIG,EAAML,EAAmBE,EAAII,EAAaJ,IACjDC,EAAOD,EAAIF,EAAoB,EAC/B7G,EAAK+G,EAAIH,EAAc,EACnBI,KAAQC,EAAGA,EAAEjH,GAAMiH,EAAED,UACbC,EAAEjH,GAGlB,IAAK+G,EAAI,EAAGA,EAAIH,EAAaG,IAC3BE,EAAEF,EAAII,GAAeE,UAAUN,EAAI,GAGrC,OADAE,EAAE/B,OAASgC,EAAML,EAAoBD,EAC9BE,M,qBCjEX,IAAIS,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdhD,IAAK,WACH,IACE,OAAO4C,EAA0BK,KAAKjF,MAAMkF,MAAMJ,GAAQ,GAC1D,MAAOK,GACP,MAAO","file":"js/chunk-e1d3e41c.3179eff4.js","sourcesContent":["<template>\n  <h1 class=\"mt-3 mb-3\">購物車</h1>\n  <loading v-model:active=\"isLoading\" />\n  <div class=\"container\" style=\"margin-top:10%;\" v-if=\"isEmpty\">\n    <p class=\"fs-1 text-danger\">Oops!</p>\n    購物車是空的 立即選購！<br />\n\n    <router-link to=\"/products\" class=\"nav-link\" aria-current=\"page\">\n      <button type=\"button\" class=\"btn btn-lg btn-outline-secondary px-5 mt-3\">開始選購</button>\n    </router-link>\n  </div>\n\n  <div class=\"container\" v-else>\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"text-end\">\n          <button class=\"btn btn-outline-danger\" type=\"button\" @click=\"deleteAll\">\n            清空購物車\n          </button>\n        </div>\n        <table class=\"table align-middle\">\n          <thead>\n            <tr>\n              <th width=\"5%\"></th>\n              <th width=\"20%\">品名</th>\n              <th></th>\n              <th width=\"10%\">單價 / 數量</th>\n              <th width=\"25%\">總金額</th>\n            </tr>\n          </thead>\n          <tbody class=\"align-middle\">\n            <template v-if=\"carts\">\n              <tr v-for=\"item in carts.carts\" :key=\"item.id\">\n                <td>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary btn-sm\"\n                    @click=\"deleteItem(item.id)\"\n                    :disabled=\"loadingStatus.loadingItem === item.id\"\n                  >\n                    <i class=\"bi bi-trash-fill\"></i>\n                  </button>\n                </td>\n                <td>\n                  <router-link :to=\"`/product/${item.product_id}`\"\n                    ><a href=\"#\"\n                      ><img :src=\"item.product.imageUrl\" class=\"w-100\" alt=\"\" />\n                      {{ item.product.title }}</a\n                    ></router-link\n                  >\n                </td>\n                <td>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-sm btn-outline-info\"\n                    @click=\"cartCheck(item)\"\n                  >\n                    查看選擇尺寸\n                  </button>\n                </td>\n                <td class=\"text-baseline\">\n                  {{ item.product.price.toLocaleString() }} / {{ item.qty }}\n                </td>\n                <td>\n                  {{ (item.product.price * item.qty).toLocaleString() }}\n                </td>\n              </tr>\n            </template>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colspan=\"3\" class=\"text-end fs-2\">總計</td>\n              <td colspan=\"2\" class=\"text-center\">NTD. {{ carts.total }}</td>\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n      <div class=\"my-5 row justify-content-center\">\n        <Form ref=\"form\" class=\"col-md-6 mx-auto\" v-slot=\"{ errors }\" @submit=\"onSubmit\">\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\">Email</label>\n            <Field\n              id=\"email\"\n              name=\"信箱\"\n              type=\"email\"\n              rules=\"email|required\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['信箱'] }\"\n              placeholder=\"請輸入 Email\"\n              v-model=\"order.user.email\"\n            ></Field>\n            <error-message name=\"信箱\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\">收件人姓名</label>\n            <Field\n              id=\"name\"\n              name=\"姓名\"\n              type=\"text\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['姓名'] }\"\n              placeholder=\"請輸入姓名\"\n              rules=\"required\"\n              v-model=\"order.user.name\"\n            ></Field>\n            <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\">收件人電話</label>\n            <Field\n              id=\"tel\"\n              name=\"電話\"\n              type=\"number\"\n              :rules=\"isPhone\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['電話'] }\"\n              placeholder=\"請輸入電話\"\n              v-model=\"order.user.tel\"\n            ></Field>\n            <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\">收件人地址</label>\n            <Field\n              id=\"address\"\n              name=\"地址\"\n              type=\"text\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['地址'] }\"\n              placeholder=\"請輸入地址\"\n              rules=\"required\"\n              v-model=\"order.user.address\"\n            ></Field>\n            <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"message\" class=\"form-label\">留言</label>\n            <textarea id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\" required></textarea>\n          </div>\n          <div class=\"text-end\">\n            <button type=\"submit\" class=\"btn btn-danger\">送出訂單</button>\n          </div>\n        </Form>\n      </div>\n    </div>\n  </div>\n\n  <CartItemCheck @cartCheckModal=\"getCart\" ref=\"cartCheck\"></CartItemCheck>\n</template>\n\n<script>\nimport CartItemCheck from '@/components/CartItemCheck.vue';\n\nexport default {\n  components: {\n    CartItemCheck,\n  },\n  data() {\n    return {\n      cartTemp: {},\n      carts: [],\n      loadingStatus: {\n        loadingItem: '',\n      },\n      order: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      isLoading: false,\n      isEmpty: false,\n    };\n  },\n  methods: {\n    cartCheck(item) {\n      this.$refs.cartCheck.modal.show();\n      this.$refs.cartCheck.productObj = item;\n      console.log(this.$refs.cartCheck.productObj);\n    },\n    deleteItem(id) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.loadingStatus.loadingItem = id;\n      this.$http.delete(`${url}/${id}`).then((res) => {\n        this.loadingStatus.loadingItem = '';\n        this.getCart();\n        this.$swal({\n          showConfirmButton: false,\n          text: res.data.message,\n          icon: 'success',\n        });\n        this.isLoading = false;\n        setTimeout(() => {\n          window.location.reload();\n        }, 1500);\n      });\n    },\n    deleteAll() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`;\n      this.$http.delete(url).then((res) => {\n        this.getCart();\n        this.$swal({\n          showConfirmButton: false,\n          text: res.data.message,\n          icon: 'success',\n        });\n        this.isLoading = false;\n        setTimeout(() => {\n          window.location.reload();\n        }, 1500);\n      });\n    },\n    getCart() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.carts = res.data.data;\n          this.carts.total = res.data.data.total.toLocaleString();\n          this.isLoading = false;\n          if (this.carts.carts.length <= 0) {\n            this.isEmpty = true;\n          } else {\n            this.isEmpty = false;\n          }\n          console.log(this.carts);\n        })\n        .catch((res) => {\n          console.log(res.data);\n        });\n    },\n    onSubmit() {\n      this.$http\n        .post(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`, {\n          data: this.order,\n        })\n        .then((res) => {\n          if (res.data.success) {\n            this.$refs.form.resetForm();\n            this.getCart();\n            this.$swal(res.data.message);\n          } else {\n            this.$swal(res.data.message);\n          }\n        });\n    },\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼';\n    },\n  },\n  created() {\n    this.getCart();\n  },\n};\n</script>\n","<template>\n  <div class=\"modal fade my-auto\" tabindex=\"-1\" id=\"instockStatus\" ref=\"instock\">\n    <loading v-model:active=\"isLoading\" />\n\n    <div class=\"modal-dialog modal-dialog-centered modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">{{ productObj.product.title }} 尺寸 / 數量</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <table class=\"table\">\n            <thead>\n              <tr class=\"align-middle\">\n                <th width=\"30%\" scope=\"col\">尺寸</th>\n                <th width=\"30%\" scope=\"col\">數量</th>\n                <th width=\"15%\" scope=\"col\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(item, index) in productObj.size\" :key=\"index\" class=\"align-middle\">\n                <td>\n                  <span class=\"text-center\">{{ productObj.size[index].num }}</span>\n                </td>\n                <td>\n                  <input\n                    type=\"number\"\n                    class=\"text-center\"\n                    min=\"1\"\n                    v-model.number=\"productObj.size[index].qty\"\n                  />\n                </td>\n                <td>\n                  <button type=\"button\" class=\"btn\" @click=\"delSize(index)\">\n                    <i class=\"bi bi-trash-fill\"></i>\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"modal-footer border-0\">\n          <button type=\"button\" class=\"btn btn-outline-danger\" data-bs-dismiss=\"modal\">\n            Close\n          </button>\n          <button @click=\"instockUpdate\" type=\"button\" class=\"btn btn-primary\">UpDate</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  data() {\n    return {\n      modal: '',\n      productObj: {\n        product: {},\n        size: [],\n        id: '',\n        qty: 1,\n      },\n      qtyTemp: 0,\n      isLoading: false,\n    };\n  },\n  methods: {\n    delSize(index) {\n      this.productObj.size.splice(index, 1);\n    },\n    instockUpdate() {\n      this.isLoading = true;\n      this.productObj.qty = 0;\n      this.productObj.size.forEach((item) => {\n        this.productObj.qty += item.qty;\n      });\n      console.log(this.productObj.qty);\n      this.$http\n        .put(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${this.productObj.id}`,\n          {\n            data: this.productObj,\n          },\n        )\n        .then((res) => {\n          if (res.data.success) {\n            this.isLoading = false;\n            this.$swal(`${res.data.message}`);\n            this.$emit('cartCheckModal');\n            this.modal.hide();\n          }\n        })\n        .catch((res) => {\n          console.log(res.data);\n        });\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.instock);\n  },\n};\n</script>\n","import { render } from \"./CartItemCheck.vue?vue&type=template&id=0d2eb39f\"\nimport script from \"./CartItemCheck.vue?vue&type=script&lang=js\"\nexport * from \"./CartItemCheck.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Carts.vue?vue&type=template&id=661ce619\"\nimport script from \"./Carts.vue?vue&type=script&lang=js\"\nexport * from \"./Carts.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}